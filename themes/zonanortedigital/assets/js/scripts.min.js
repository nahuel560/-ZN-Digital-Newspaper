function tie_animate_element(e){e&&(tie_animate_reviews(e),tie.lazyload&&(e.find("[data-src]").each(function(){var e=jQuery(this);e.attr("src",e.data("src")),e.removeAttr("data-src")}),e.find("[data-lazy-bg]").each(function(){var e=jQuery(this);e.attr("style","background-image:url("+e.data("lazy-bg")+")"),e.removeAttr("data-lazy-bg")})))}function tie_animate_reviews(e){tie.is_taqyeem_active&&(e.find("[data-lazy-pie]").each(function(){var e=jQuery(this),t=parseInt(e.data("pct")),i=e.find(".circle_bar"),n=(100-t)/100*Math.PI*38;i.attr("style","stroke-dashoffset:"+n+"px"),e.removeAttr("data-lazy-pie")}),e.find("[data-lazy-percent]").each(function(){var e=jQuery(this);e.attr("style","width:"+e.data("rate-val")),e.removeAttr("data-lazy-percent")}))}var $doc=jQuery(document),$window=jQuery(window),$body=jQuery("body"),$themeHeader=jQuery("#theme-header"),$mainNav=jQuery("#main-nav"),$container=jQuery("#tie-container"),is_RTL=tie.is_rtl?!0:!1,intialWidth=window.innerWidth,isDuringAjax=!1,adBlock=!1,scrollBarWidth=!1,mobileMenu=!1;!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t,i=window.innerWidth,n=[];e(window).resize(function(){clearTimeout(t),t=setTimeout(function(){e(window).width()!==i&&(e(n).each(function(){e(this).flexMenu({undo:!0}).flexMenu(this.options)}),i=e(window).width())},200)}),e.fn.flexMenu=function(t){var i,a=e.extend({threshold:2,cutoff:2,linkText:"More",linkTitle:"View More",linkTextAll:"Menu",linkTitleAll:"Open/Close Menu",shouldApply:function(){return!0},showOnHover:!0,popupAbsolute:!0,popupClass:"",undo:!1},t);return this.options=a,(i=e.inArray(this,n))>=0?n.splice(i,1):n.push(this),this.each(function(){function t(e){return Math.ceil(e.offset().top)>=m+h}var i=e(this),n=i.find("> li"),o=n.length;if(o){var s,r,l,d,c,u,f=n.first(),p=n.last(),m=Math.floor(f.offset().top),h=Math.floor(f.outerHeight(!0)),y=!1;if(t(p)&&o>a.threshold&&!a.undo&&i.is(":visible")&&a.shouldApply()){var v=e('<ul class="flexMenu-popup" style="display:none;'+(a.popupAbsolute?" position: absolute;":"")+'"></ul>');for(v.addClass(a.popupClass),u=o;u>1;u--){if(r=t(s=i.find("> li:last-child")),u-1<=a.cutoff){e(i.children().get().reverse()).appendTo(v),y=!0;break}if(!r)break;s.appendTo(v)}y?i.append('<li class="flexMenu-viewMore flexMenu-allInPopup"><a href="#" title="'+a.linkTitleAll+'">'+a.linkTextAll+"</a></li>"):i.append('<li class="flexMenu-viewMore"><a href="#" title="'+a.linkTitle+'">'+a.linkText+"</a></li>"),t(l=i.find("> li.flexMenu-viewMore"))&&i.find("> li:nth-last-child(2)").appendTo(v),v.children().each(function(e,t){v.prepend(t)}),l.append(v),i.find("> li.flexMenu-viewMore > a").click(function(t){var i;i=l,e("li.flexMenu-viewMore.active").not(i).find("> ul").hide(),v.toggle(),t.preventDefault()}),a.showOnHover&&"undefined"!=typeof Modernizr&&!Modernizr.touch&&l.hover(function(){v.show()},function(){v.hide()})}else if(a.undo&&i.find("ul.flexMenu-popup")){for(d=(c=i.find("ul.flexMenu-popup")).find("li").length,u=1;d>=u;u++)c.find("> li:first-child").appendTo(i);c.remove(),i.find("> li.flexMenu-viewMore").remove()}}})}}),!function(e,t){"function"==typeof define&&define.amd?define(function(){return t(e)}):"object"==typeof exports?module.exports=t:e.emergence=t(e)}(this,function(){"use strict";var e,t,i,n,a,o,s,r={},l=function(){},d=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|playbook|silk/i.test(navigator.userAgent)},c=function(e){var t=e.offsetWidth,i=e.offsetHeight,n=0,a=0;do isNaN(e.offsetTop)||(n+=e.offsetTop),isNaN(e.offsetLeft)||(a+=e.offsetLeft);while(null!==(e=e.offsetParent));return{width:t,height:i,top:n,left:a}},u=function(e){if(function(e){return null===e.offsetParent}(e))return!1;var i,n,r,l=c(e),d=function(e){var t,i;return e!==window?(t=e.clientWidth,i=e.clientHeight):(t=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight),{width:t,height:i}}(t),u=function(e){return e!==window?{x:e.scrollLeft+c(e).left,y:e.scrollTop+c(e).top}:{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}}(t),f=(l.width,l.height),p=l.top;return l.left,i=p+f*a,n=p+f-f*a,r=u.y+o,i<u.y-s+d.height&&n>r},f=function(){e||(clearTimeout(e),e=setTimeout(function(){r.engage(),e=null},i))};return r.init=function(e){var r,c,u=function(e,t){return parseInt(e||t,10)};t=(e=e||{}).container||window,n=void 0===e.handheld||e.handheld,i=u(e.throttle,250),r=e.elemCushion,c=.1,a=parseFloat(r||c),o=u(e.offsetTop,0),u(e.offsetRight,0),s=u(e.offsetBottom,0),u(e.offsetLeft,0),l=e.callback||l,"querySelectorAll"in document?(d()&&n||!d())&&(window.addEventListener?(window.addEventListener("load",f,!1),t.addEventListener("scroll",f,!1),t.addEventListener("resize",f,!1)):(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&f()}),t.attachEvent("onscroll",f),t.attachEvent("onresize",f))):console.log("Emergence.js is not supported in this browser.")},r.engage=function(){if(tie.lazyload){for(var e=(d=document.querySelectorAll("[data-src]")).length,t=0;e>t;t++)c=d[t],u(c)&&(c.setAttribute("src",c.getAttribute("data-src")),c.removeAttribute("data-src"),c.className+=" lazy-done",l(c,"tie_img_visible"),jQuery.fn.masonry&&jQuery("#masonry-grid").masonry("layout"));var i=(d=document.querySelectorAll("[data-lazy-bg]")).length;for(t=0;i>t;t++)c=d[t],u(c)&&(c.setAttribute("style","background-image:url("+c.getAttribute("data-lazy-bg")+")"),c.removeAttribute("data-lazy-bg"),c.className=c.className,l(c,"tie_bg_visible"))}if(tie.is_taqyeem_active){var n=(d=document.querySelectorAll("[data-lazy-pie]")).length;for(t=0;n>t;t++)if(c=d[t],u(c)){var a=parseInt(c.getAttribute("data-pct")),o=c.getElementsByClassName("circle_bar")[0],s=(100-a)/100*Math.PI*38;o.setAttribute("style","stroke-dashoffset:"+s+"px"),c.removeAttribute("data-lazy-pie"),c.className=c.className,l(c,"tie_pie_visible")}var d,c,f=(d=document.querySelectorAll("[data-lazy-percent]")).length;for(t=0;f>t;t++)c=d[t],u(c)&&(c.setAttribute("style","width:"+c.getAttribute("data-rate-val")),c.removeAttribute("data-lazy-percent"),c.className=c.className,l(c,"tie_rate_visible"))}e||n||f||i||r.disengage()},r.disengage=function(){window.removeEventListener?(t.removeEventListener("scroll",f,!1),t.removeEventListener("resize",f,!1)):(t.detachEvent("onscroll",f),t.detachEvent("onresize",f)),clearTimeout(e)},r}),!function(e){"use strict";e.fn.tieFitVids=function(t){var i={customSelector:null,ignore:null};t&&e.extend(i,t);var n=['iframe[src*="player.vimeo.com"]','iframe[src*="player.twitch.tv"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="maps.google.com"]','iframe[src*="google.com/maps"]','iframe[src*="dailymotion.com"]','iframe[src*="twitter.com/i/videos"]',"object","embed"];if(n=n.join(","),i.customSelector&&n.push(i.customSelector),document.querySelectorAll(n).length){var a=".tie-ignore-fitvid, #buddypress";return i.ignore&&(a=a+", "+i.ignore),this.each(function(){e(this).find(n).each(function(){var t=e(this);if(!(t.parents(a).length>0||("embed"===this.tagName.toLowerCase()||"object"===this.tagName.toLowerCase())&&t.parent("object").length||t.parent(".tie-fluid-width-video-wrapper").length)){t.css("height")||t.css("width")||!isNaN(t.attr("height"))&&!isNaN(t.attr("width"))||(t.attr("height",9),t.attr("width",16));var i=("object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height())/(isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10));t.removeAttr("height").removeAttr("width"),t.wrap('<div class="tie-fluid-width-video-wrapper"></div>').parent(".tie-fluid-width-video-wrapper").css("padding-top",100*i+"%")}})})}}}(window.jQuery),$doc.ready(function(){"use strict";function e(e){var t=!0,i=0,n=0,a=0,o=0,s=!1,r="upwards"==tie.sticky_mobile_behavior?!0:!1,l="auto",d=0,c=0,u=window.innerWidth;if(!(u>991)){if("size"!==l){var f=0,p=0;if($body.hasClass("admin-bar")){var m=jQuery("#wpadminbar");m.length>0&&(f=m.outerHeight(),p=f,"resize"!==e.type&&(s=p),"absolute"===m.css("position")&&(p=0,"resize"!==e.type&&(s=0)))}var h=$themeHeader.hasClass("header-layout-1")?$mainNav:jQuery(".logo-container"),y=h.parent(),v=h.not(".fixed-nav").offset();c=y.outerHeight()+v.top,v&&!h.hasClass(".fixed-nav")?(d=v.top,o=v.top):d=o,32===s?46===f?d=d-p+14:d-=p:(46===s||0===s)&&(32===f?d=d-p-14:d-=p)}var g=jQuery(h).outerHeight();y.data("min-height",c-g),y.height(g),"resize"!==e.type&&(r&&y.addClass("sticky-type-slide"),jQuery(window).scroll(function(e){if(e.originalEvent){var o=jQuery(window).scrollTop();r?(o>c&&h.addClass("fixed-nav"),d>=o&&h.removeClass("fixed-nav"),o>n?(i=0,a="down",h.addClass("sticky-down").removeClass("sticky-up")):(i+=n-o,a="up",h.addClass("sticky-up").removeClass("sticky-down")),i>150&&"up"===a?(h.addClass("sticky-nav-slide-visible"),jQuery(document).trigger("sticky-nav-visible")):(h.removeClass("sticky-nav-slide-visible"),jQuery(document).trigger("sticky-nav-hide")),o>c+150?h.addClass("sticky-nav-slide"):h.removeClass("sticky-nav-slide"),t&&o>c+150&&(h.addClass("sticky-nav-slide sticky-nav-slide-visible sticky-up"),jQuery(document).trigger("sticky-nav-visible"),i=151,a="up",t=!1)):o>d?(h.addClass("fixed-nav default-behavior-mode"),jQuery(document).trigger("sticky-nav-visible")):(h.removeClass("fixed-nav"),jQuery(document).trigger("sticky-nav-hide")),n=o}}))}}function t(e){jQuery(e).show(),"#tie-popup-search-wrap"==e&&f.find('form input[type="text"]').focus(),tie_animate_element(jQuery(e)),scrollBarWidth||(scrollBarWidth=100-document.getElementById("is-scroller").offsetWidth),setTimeout(function(){$body.addClass("tie-popup-is-opend")},10),jQuery("html").css({marginRight:scrollBarWidth,overflow:"hidden"})}function i(){jQuery.when(f.fadeOut(500)).done(function(){jQuery("html").removeAttr("style")}),jQuery("#autocomplete-suggestions").fadeOut(),$body.removeClass("tie-popup-is-opend"),jQuery("#tie-popup-search-input").val("")}function n(){if(!tie.mobile_menu_active||mobileMenu)return!1;var e=jQuery("#mobile-menu"),t="";if(e.hasClass("has-custom-menu")){var i=jQuery("#mobile-custom-menu");i.find("div.mega-menu-content").remove(),i.find("li.menu-item-has-children:not(.hide-mega-headings)").append('<span class="mobile-arrows fa fa-chevron-down"></span>')}else{var n=$mainNav.find("div.main-menu > ul");if(n.length){var t=n.clone();t.find(".mega-menu-content").remove(),t.removeAttr("id").find("li").removeAttr("id"),t.find("li.menu-item-has-children:not(.hide-mega-headings)").append('<span class="mobile-arrows fa fa-chevron-down"></span>'),e.append(t);var a=t.find("> li");1==a.length&&(a.find("> .mobile-arrows").toggleClass("is-open"),a.find("> ul").show())}if(tie.mobile_menu_top){var o=jQuery("#top-nav div.top-menu > ul");if(o.length){var s=o.clone();s.removeAttr("id").find("li").removeAttr("id"),s.find("li.menu-item-has-children").append('<span class="mobile-arrows fa fa-chevron-down"></span>'),e.append(s)}}}tie.mobile_menu_parent?jQuery("li.menu-item-has-children .mobile-arrows","#mobile-menu").click(function(){return jQuery(this).toggleClass("is-open").closest(".menu-item").find("ul").first().slideToggle(300),!1}):jQuery("li.menu-item-has-children > a, li.menu-item-has-children > .mobile-arrows","#mobile-menu").click(function(){return jQuery(this).parent().find("ul").first().slideToggle(300),jQuery(this).parent().find("> .mobile-arrows").toggleClass("is-open"),!1}),mobileMenu=!0}if(performance.mark("TieStart"),emergence.init(),tie.ad_blocker_detector&&"undefined"==typeof $tieE3&&(adBlock=!0,t("#tie-popup-adblock")),$doc.on("click",".profile-btn",function(){return!1}),$container.tieFitVids(),jQuery.fn.masonry){var a=jQuery("#masonry-grid");if(a.length){var o=jQuery("#media-page-layout");a.masonry({columnWidth:".grid-sizer",gutter:".gutter-sizer",itemSelector:".post-element",percentPosition:!0,isInitLayout:!1,initLayout:!1,originLeft:!is_RTL,isOriginLeft:!is_RTL}).addClass("masonry-loaded"),a.masonry("on","layoutComplete",function(){isDuringAjax=!1}),a.masonry(),jQuery.fn.imagesLoaded&&a.imagesLoaded().progress(function(){a.masonry("layout")}),o.find(".loader-overlay").fadeOut().remove(),o.find(".post-element").addClass("tie-animate-slideInUp tie-animate-delay"),jQuery(window).resize(function(){o.find(".post-element").removeClass("tie-animate-slideInUp tie-animate-delay")})}}for(var s=jQuery(".tabs-wrapper").get(),r=null,l=0,d=s.length;d>l;l++){if(r=jQuery(s[l]),r.find(".tabs li").first().addClass("active"),r.hasClass("tabs-vertical")){var c=r.find(".tabs").outerHeight();r.find(".tab-content").css({minHeight:c})}r.find(".tabs li").on("click",function(){var e=jQuery(this);if(!e.hasClass("active")){e.parents(".tabs").find("li").removeClass("active"),e.addClass("active"),e.parents(".tabs-wrapper").find(".tab-content").hide().addClass("is-not-active");var t=e.find("a").attr("href"),i=jQuery(t).show();i.find(".tab-content-elements li").addClass("tie-animate-slideInUp tie-animate-delay"),i.find(".tab-content-wrap").addClass("tie-animate-slideInUp"),tie_animate_element(i)}return!1})}var u=jQuery(".is-flex-tabs, .is-flex-tabs-shortcodes .tabs");u.length&&(u.flexMenu({threshold:0,cutoff:0,linkText:'<span class="tie-icon-dots-three-horizontal"><span class="screen-reader-text">More</span></span>',linkTextAll:'<span class="tie-icon-dots-three-horizontal"><span class="screen-reader-text">More</span></span>',linkTitle:"",linkTitleAll:"",showOnHover:intialWidth>991?!0:!1}),u.css({opacity:1})),tie.sticky_mobile&&($window.on("load",e),$window.resize(e));var f=jQuery(".tie-popup");$doc.on("click",".tie-popup-trigger",function(e){e.preventDefault(),t("#tie-popup-login")}),jQuery(".tie-search-trigger").length&&(tie.type_to_search&&window.self===window.top&&$doc.bind("keydown",function(e){!jQuery("input, textarea").is(":focus")&&!jQuery("#tie-popup-login").is(":visible")&&!e.ctrlKey&&!e.metaKey&&e.keyCode>=65&&e.keyCode<=90&&($container.removeClass("side-aside-open"),t("#tie-popup-search-wrap"))}),jQuery(".tie-search-trigger").on("click",function(){return t("#tie-popup-search-wrap"),!1})),f.length&&!adBlock&&$doc.keyup(function(e){"27"==e.which&&$body.hasClass("tie-popup-is-opend")&&i()}),f.on("click",function(e){return jQuery(e.target).is(".tie-popup:not(.is-fixed-popup)")?(i(),!1):void 0}),jQuery(".tie-btn-close").on("click",function(){return i(),!1});var p=function(){$container.removeClass("side-aside-open"),$container.off("touchstart click",m)},m=function(e){return $container.hasClass("side-aside-open")?void(jQuery(e.target).parents(".side-aside").length||p()):!1},h=jQuery(".side-aside-nav-icon, #mobile-menu-icon");h.on("touchstart click",function(){return n(),$container.addClass("side-aside-open"),$container.on("touchstart click",m),jQuery("#autocomplete-suggestions").hide(),!1}),$doc.on("keydown",function(e){27==e.which&&p()}),jQuery(".close-side-aside").on("click",function(){return p(),!1}),$window.resize(function(){intialWidth=window.innerWidth,991==intialWidth&&p()}),jQuery('a[href^="#go-to-"]').on("click",function(){var e=jQuery(this).attr("href"),t="#"+e.slice(7),i=tie.sticky_desktop?100:40,n=jQuery(t).offset().top-i;return jQuery("html, body").animate({scrollTop:n},"slow"),!1});var y=jQuery("#go-to-top"),v=!1,g=!1;y.length&&(v=!0),$window.scroll(function(){v&&(g&&window.clearTimeout(g),g=window.setTimeout(function(){$window.scrollTop()>100?y.addClass("show-top-button"):y.removeClass("show-top-button")},100))}),$doc.on("click",".block-pagination",function(){var e=jQuery(this),t=e.closest(".mag-box"),i=t.get(0).id,n=t.closest(".section-item"),a=t.attr("data-term"),o=t.attr("data-current"),s=t.find(".posts-list-container"),r=t.find(".mag-box-container"),l=jQuery.extend({},window["js_"+i.replace("tie-","tie_")]),d="posts-items",c=!1,u="single";if(o&&l){if(a&&(l.tags?l.tags=a:l.id=a),l.ajax_class&&(d=l.ajax_class),e.hasClass("pagination-disabled"))return!1;e.hasClass("load-more-button")?(o++,c=!0):e.hasClass("next-posts")?(o++,t.find(".prev-posts").removeClass("pagination-disabled")):e.hasClass("prev-posts")&&(o--,t.find(".next-posts").removeClass("pagination-disabled")),n.hasClass("full-width")&&(u="full"),jQuery.ajax({url:tie.ajaxurl,type:"post",data:{action:"tie_blocks_load_more",block:l,page:o,width:u},beforeSend:function(){if(c)e.html(tie.ajax_loader);else{var t=r.height();r.append(tie.ajax_loader).attr("style","min-height:"+t+"px"),s.addClass("is-loading")}},success:function(i){if(i=jQuery.parseJSON(i),i.hide_next?(t.find(".next-posts").addClass("pagination-disabled"),(e.hasClass("show-more-button")||c)&&e.html(i.button)):c&&e.html(e.attr("data-text")),i.hide_prev&&t.find(".prev-posts").addClass("pagination-disabled"),i=i.code,c){var n='<ul class="'+d+" posts-list-container clearfix posts-items-loaded-ajax posts-items-"+o+'">'+i+"</ul>";n=jQuery(n),r.append(n)}else{var n='<ul class="'+d+" posts-list-container posts-items-"+o+'">'+i+"</ul>";n=jQuery(n),r.html(n)}var a=t.find(".posts-items-"+o);a.find("li").addClass("tie-animate-slideInUp tie-animate-delay"),tie_animate_element(a),r.attr("style","")}}),t.attr("data-current",o)}return!1}),$doc.on("click",".block-ajax-term",function(){var e=jQuery(this),t=e.closest(".mag-box"),i=e.attr("data-id"),n=t.get(0).id,a=t.find(".posts-list-container"),o=t.find(".mag-box-container"),s=jQuery.extend({},window["js_"+n.replace("tie-","tie_")]),r="posts-items";return s&&(t.attr("data-current",1),i?(s.tags?s.tags=i:s.id=i,t.attr("data-term",i)):t.removeAttr("data-term"),s.ajax_class&&(r=s.ajax_class),jQuery.ajax({url:tie.ajaxurl,type:"post",data:{action:"tie_blocks_load_more",block:s},beforeSend:function(){var e=o.height();o.append(tie.ajax_loader).attr("style","min-height:"+e+"px"),a.addClass("is-loading")},success:function(i){i=jQuery.parseJSON(i),t.find(".block-pagination").removeClass("pagination-disabled");var n=t.find(".show-more-button");n.html(n.attr("data-text")),t.find(".block-ajax-term").removeClass("active"),e.addClass("active"),i.hide_next&&(t.find(".next-posts").addClass("pagination-disabled"),t.find(".show-more-button").html(i.button)),i.hide_prev&&t.find(".prev-posts").addClass("pagination-disabled"),i=i.code;var a='<ul class="'+r+' ajax-content posts-list-container">'+i+"</ul>";a=jQuery(a),o.html(a),o.find("li").addClass("tie-animate-slideInUp tie-animate-delay"),tie_animate_element(o),o.attr("style","")}})),!1}),performance.mark("TieEnd"),performance.measure("TieLabs Custom JS","TieStart","TieEnd")});
